<!DOCTYPE html>
<meta charset="utf-8">
<head>
  <title>Hábitos de Cafe</title>

  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!--STYLESHEETS-->
  <link rel="stylesheet" href="styles.css">
  <!--link para Google Fonts-->
  <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@200;400&family=Montserrat:wght@200;400;600&display=swap" rel="stylesheet">


  <!--link para bootstrap-->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
  
  <!-- Load d3.js v5 (para el upPlot)-->
  <script src="https://d3js.org/d3.v5.min.js" charset="utf-8"></script>
 
  <!-- Load d3.js v4 (para el boxPlot)-->
  <script src="https://d3js.org/d3.v4.js"></script>

  <script src="upset.js"></script>
  <script src="formatData.js"></script>

</head>

<body>
    
    <div class='container mt-5 py-4 px-5'>
            <h1>Hábitos de Café</h1>
            <h3 class="author">por Valentina Pruden</h3>

        <div class="block_1 hline-bottom"></div>

        <div class="container mt-5">
            <div class='row justify-content-around'>
                <div class="col-md-6 col-sm-12 text-center">
                    <h3 class='pregunta'>¿Cómo son mis hábitos en relación a los de otras personas?</h1>
                    
                    <div class='detalle_pregunta pt-4 text-left texto'>
                        <p>150 ENCUESTADOS</p>
                        
                        <p>1 punto = <b>1 persona</b></p>
                            <p>Yo = </p>
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-emoji-smile icon" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                                    <path fill-rule="evenodd" d="M4.285 9.567a.5.5 0 0 1 .683.183A3.498 3.498 0 0 0 8 11.5a3.498 3.498 0 0 0 3.032-1.75.5.5 0 1 1 .866.5A4.498 4.498 0 0 1 8 12.5a4.498 4.498 0 0 1-3.898-2.25.5.5 0 0 1 .183-.683z"/>
                                    <path d="M7 6.5C7 7.328 6.552 8 6 8s-1-.672-1-1.5S5.448 5 6 5s1 .672 1 1.5zm4 0c0 .828-.448 1.5-1 1.5s-1-.672-1-1.5S9.448 5 10 5s1 .672 1 1.5z"/>
                            </svg>

                        <!--CUADRO DE STATS-->
                        <div class='container'>
                            <div class='row stats border-bottom border-secondary'>
                                <div class='col-6 border-right border-secondary'>
                                    <p class='porcentaje'>58%</p>
                                    <!--son 87 personas-->
                                    <p class='detalle_porcentaje'>TOMA EL CAFÉ CON LECHE</p>
                                </div>
                                <div class='col-6'>
                                    <p class='porcentaje'>28,7%</p>
                                    <!--son 25 personas-->
                                    <p class='detalle_porcentaje'>DE QUIENES LO TOMAN CON LECHE NO LO ENDULZAN</p>
                                </div>
                            </div>
                            <div class='row stats'>
                                <div class='col-6 border-right border-secondary'>
                                    <p class='porcentaje'>13,3%</p>
                                    <!--son 25 personas-->
                                    <p class='detalle_porcentaje'>TOMAN 4 TAZAS POR DIA</p>
                                </div>
                                <div class='col-6'>
                                    <p class='porcentaje'>58%</p>
                                    <!--son 87 personas-->
                                    <p class='detalle_porcentaje'>TOMA EL CAFÉ CON LECHE</p>
                                </div>
                            </div>
                        </div>


                        <div class='container pt-4'>
                            <p class='recomendacion text-justify texto'>RECOMENDACION: usar el modo de barras para medir mejor el tamaño de los grupos.</p>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-6 col-sm-12 pt-5">
                    <div class="flourish-embed flourish-survey" id='dots' data-src="visualisation/3791379" data-url="https://flo.uri.sh/visualisation/3791379/embed" aria-label=""><script src="https://public.flourish.studio/resources/embed.js"></script></div>
                </div>
            </div>
        </div> 
        
        <div class="block_1 hline-bottom"></div>

    <div id="upsetPlot"></div>
    <script>
        const data = [
        {
            "name": "Mañana",
            "values": [0, 1, 2, 3, 4, 5, 6, 7, 9, 11, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 45, 46, 47, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 82, 83, 84, 85, 86, 88, 89, 90, 91, 93, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 136, 137, 138, 140, 141, 142, 143, 145, 147, 148, 149, 150]
        },
        {
            "name": "Mediodía",
            "values": [1, 5, 6, 16, 19, 29, 32, 36, 40, 49, 52, 53, 58, 61, 63, 64, 67, 77, 79, 84, 85, 86, 89, 91, 95, 97, 101, 105, 109, 110, 115, 117, 118, 121, 122, 123, 126, 134, 135, 146, 148, 150]
        },
        {
            "name": "Tarde",
            "values": [0, 1, 2, 3, 4, 6, 9, 10, 12, 14, 16, 19, 20, 21, 22, 23, 24, 27, 29, 30, 32, 33, 35, 36, 38, 40, 41, 42, 43, 44, 45, 46, 48, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 61, 62, 63, 64, 65, 66, 68, 69, 71, 72, 73, 76, 77, 80, 81, 82, 83, 84, 86, 87, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 103, 105, 107, 108, 109, 110, 111, 113, 114, 115, 116, 117, 118, 120, 124, 126, 127, 129, 130, 131, 132, 133, 136, 139, 140, 141, 144, 145, 147, 149]
        },
        {
            "name": "Noche",
            "values": [0, 6, 8, 16, 17, 23, 38, 40, 50, 53, 58, 61, 63, 80, 84, 91, 95, 105, 115, 125, 126, 130, 131, 148, 150]
        }
        ];
        // calculating intersections WITHOUT solo sets
        const {intersections, soloSets} = formatIntersectionData(data); 

        // putting the solo sets in:
        // to include solo sets with all its data, call this function
        //const allData = insertSoloDataAll(intersections, soloSets);

        // to include solo sets with only the values that ARE NOT in other sets
        // ie. the outersect of values in the solo sets, call this function
        const allData = insertSoloDataOutersect(intersections, soloSets);

        // plot the upset plot
        plotUpset(allData, soloSets, "upsetPlot")
    </script>
 </div>

 <div class="block_1 hline-bottom"></div>

 <!--BoxPlot-->

<div id="my_dataviz"></div>

<script src="boxplot.js"></script>


  <!--para bootstrap-->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
</body>
